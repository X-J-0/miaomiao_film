{"remainingRequest":"C:\\Users\\86183\\Desktop\\notebook\\vue学习\\vue电影项目\\miaomiao\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86183\\Desktop\\notebook\\vue学习\\vue电影项目\\miaomiao\\src\\components\\NowPlaying\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\86183\\Desktop\\notebook\\vue学习\\vue电影项目\\miaomiao\\src\\components\\NowPlaying\\index.vue","mtime":1587547306971},{"path":"C:\\Users\\86183\\Desktop\\notebook\\vue学习\\vue电影项目\\miaomiao\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86183\\Desktop\\notebook\\vue学习\\vue电影项目\\miaomiao\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\86183\\Desktop\\notebook\\vue学习\\vue电影项目\\miaomiao\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86183\\Desktop\\notebook\\vue学习\\vue电影项目\\miaomiao\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6J05vd1BsYXlpbmcnLA0KICBkYXRhKCl7DQogICByZXR1cm4gew0KICAgICAgIG1vdmllTGlzdDpbXSwNCiAgICAgICBpc0xvYWRpbmc6dHJ1ZSwNCiAgICAgICBwcmV2Q2l0eUlkOi0xDQogICB9DQogIH0sDQogICBhY3RpdmF0ZWQoKXsNCiAgICAgICB2YXIgY2l0eUlkID0gdGhpcy4kc3RvcmUuc3RhdGUuY2l0eS5pZDsNCiAgICAgICBpZih0aGlzLnByZXZDaXR5SWQgPT09IGNpdHlJZCl7cmV0dXJuO30NCiAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7DQogICAgICAgdGhpcy5heGlvcy5nZXQoJy9hcGkyL21vdmllcy9nZXRpbmZvJykudGhlbigocmVzKT0+ew0KICAgICAgICAgICB2YXIgc3RhdHVzID0gcmVzLmRhdGEuc3RhdHVzOw0KICAgICAgICAgICBpZihzdGF0dXMgPT0gMCl7DQogICAgICAgICAgICAgICB0aGlzLm1vdmllTGlzdCA9IHJlcy5kYXRhLnJlc3VsdDsNCiAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgICAvLyAgICB0aGlzLnByZXZDaXR5SWQgPSBjaXR5SWQ7DQogICAgICAgICAgIH0NCiAgICAgICB9KQ0KICAgfSwNCiAgIG1ldGhvZHM6ew0KICAgICAgIGhhbmRsZVRvRGV0YWlsKG1vdmllSWQpew0KICAgICAgICAgICBjb25zb2xlLmxvZyhtb3ZpZUlkKTsNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbW92aWUvZGV0YWlsLycgKyBtb3ZpZUlkKTsNCiAgICAgICB9DQogICB9DQogIH0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/NowPlaying","sourcesContent":["<template>\r\n<div class=\"movie_body\">\r\n    <Loading v-if=\"isLoading\"/>\r\n    <ul v-else>\r\n        <li v-for=\"item in movieList\" :key=\"item._id\">\r\n            <div class=\"pic_show\" @click=\"handleToDetail(item._id)\"><img :src=\"item.pic | setWH('128.180') \"></div>\r\n            <div class=\"info_list\">\r\n                <h2 @click=\"handleToDetail(item._id)\">{{item.name}}</h2>\r\n                <p>观众评价<span class=\"grade\">{{item.remark}}</span></p>\r\n                <p>主演：{{item.actress}}</p>\r\n                <p>播放了{{item.times}}次</p>\r\n            </div>\r\n            <div class=\"btn_pre\">\r\n              购票\r\n            </div>\r\n        </li>\r\n    </ul>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name:'NowPlaying',\r\n  data(){\r\n   return {\r\n       movieList:[],\r\n       isLoading:true,\r\n       prevCityId:-1\r\n   }\r\n  },\r\n   activated(){\r\n       var cityId = this.$store.state.city.id;\r\n       if(this.prevCityId === cityId){return;}\r\n       this.isLoading = true;\r\n       this.axios.get('/api2/movies/getinfo').then((res)=>{\r\n           var status = res.data.status;\r\n           if(status == 0){\r\n               this.movieList = res.data.result;\r\n               this.isLoading = false;\r\n            //    this.prevCityId = cityId;\r\n           }\r\n       })\r\n   },\r\n   methods:{\r\n       handleToDetail(movieId){\r\n           console.log(movieId);\r\n            this.$router.push('/movie/detail/' + movieId);\r\n       }\r\n   }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n    #content .movie_body{flex:1;overflow:auto;}\r\n    .movie_body ul{margin:0 12px; overflow:hidden;}\r\n    .movie_body ul li{margin-top:12px;display:flex;align-items:center;border-bottom:1px solid #e6e6e6;padding-bottom:10px;}\r\n    .movie_body .pic_show{width:64px; height:90px;}\r\n    .movie_body .pic_show img{width:100%;}\r\n    .movie_body .info_list{margin-top:50px;margin-left:10px;flex:1;position: relative;}\r\n    .movie_body .info_list h2{font-size:17px;line-height: 24px;width:150px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}\r\n    .movie_body .info_list p{font-size:13px;color:#666;line-height: 22px;width:200px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}\r\n    .movie_body .info_list .grade{font-weight: 700;color:#faaf00;font-size:15px;}\r\n    .pic_show img{width:50px;position: relative;right:10px;top:20px;}\r\n    .movie_body .btn_mall, .movie_body .btn_pre{width:47px;height:27px;line-height: 28px;text-align: center;background-color: #f03d37;color:#fff;border-radius: 5%;}\r\n</style>\r\n"]}]}