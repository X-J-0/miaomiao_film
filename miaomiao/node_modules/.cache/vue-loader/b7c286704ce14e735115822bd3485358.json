{"remainingRequest":"C:\\Users\\86183\\Desktop\\notebook\\vue学习\\vue电影项目\\miaomiao\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86183\\Desktop\\notebook\\vue学习\\vue电影项目\\miaomiao\\src\\views\\Mine\\center.vue?vue&type=style&index=0&id=15ba7cc7&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\86183\\Desktop\\notebook\\vue学习\\vue电影项目\\miaomiao\\src\\views\\Mine\\center.vue","mtime":1587269545119},{"path":"C:\\Users\\86183\\Desktop\\notebook\\vue学习\\vue电影项目\\miaomiao\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86183\\Desktop\\notebook\\vue学习\\vue电影项目\\miaomiao\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\86183\\Desktop\\notebook\\vue学习\\vue电影项目\\miaomiao\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\86183\\Desktop\\notebook\\vue学习\\vue电影项目\\miaomiao\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86183\\Desktop\\notebook\\vue学习\\vue电影项目\\miaomiao\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5tYWlue2hlaWdodDoxMDAlO3dpZHRoOjEwMCU7fQ0KLmltZ3ttYXJnaW4tdG9wOiAxMHB4O21hcmdpbi1sZWZ0OiAxMHB4O30NCi5pbmZve3Bvc2l0aW9uOmFic29sdXRlO3RvcDoxMHB4O3JpZ2h0OjEwcHg7Zm9udC1zaXplOjEycHg7fQ0KLmV4aXR7Y29sb3I6YnJvd247dGV4dC1kZWNvcmF0aW9uOiBub25lO2ZvbnQtc2l6ZToxMnB4O30NCi5hZG1pbntmb250LXNpemU6MTJweDttYXJnaW4tbGVmdDogMTBweDtjb2xvcjpncmV5O30NCi5saXN0e3dpZHRoOjEwMCU7aGVpZ2h0OmF1dG87cG9zaXRpb246cmVsYXRpdmU7fQ0KLmxpc3QgbGl7bWFyZ2luOjAgMTBweDtsaXN0LXN0eWxlLXR5cGU6IG5vbmU7d2lkdGg6MTAwJTtoZWlnaHQ6NjBweDtmb250LXNpemU6IDE2cHg7bGluZS1oZWlnaHQ6ODBweDtjb2xvcjpncmV5O2JvcmRlci1ib3R0b206MXB4IHNvbGlkIGJsYWNrO30NCi5saXN0IHNwYW57cG9zaXRpb246IGFic29sdXRlO3JpZ2h0OjEwcHg7Y29sb3I6Z3JleTt9DQo="},{"version":3,"sources":["center.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"center.vue","sourceRoot":"src/views/Mine","sourcesContent":["<template>\r\n    <div class=\"main\">\r\n      <div class=\"img\"><img src=\"/images/person.png\" width=\"80px\" height=\"80px\"></div>\r\n      <div class=\"info\">{{$store.state.user.name}}<a href=\"javascript:;\" @click=\"handleToLogout\" class=\"exit\">退出</a></div>\r\n      <div v-if='$store.state.user.admin' class=\"admin\">您是管理员,<a href=\"/admin\">由此进入管理界面</a></div>\r\n      <div v-else class=\"admin\">您好，欢迎使用喵喵电影</div>\r\n      <ul class=\"list\">\r\n        <li>我的电影订单<span>&gt;</span></li>\r\n        <li>优惠券<span>&gt;</span></li>\r\n        <li>想看的电影<span>&gt;</span></li>\r\n        <li>看过的电影<span>&gt;</span></li>\r\n      </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n  name:'center',\r\n  data(){\r\n   return {\r\n\r\n   }\r\n  },\r\n  methods:{\r\n    handleToLogout(){\r\n          this.axios.get('/api2/users/logout').then((res) => {\r\n            var status = res.data.status;\r\n            if(status === 0){\r\n              this.$store.commit('user/USER_NAME',{name:'',admin:false});\r\n              this.$router.push('/mine/login');\r\n            }\r\n          });\r\n    }\r\n  },\r\n  beforeRouteEnter (to, from, next) {\r\n    axios.get('/api2/users/getUser').then((res)=>{\r\n      var status = res.data.status;\r\n      if(status === 0){\r\n        next(vm=>{\r\n          vm.$store.commit('user/USER_NAME',{name:res.data.data.username,admin:res.data.data.admin});\r\n        });\r\n      }else{\r\n        next('/mine/login');\r\n      }\r\n    });\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.main{height:100%;width:100%;}\r\n.img{margin-top: 10px;margin-left: 10px;}\r\n.info{position:absolute;top:10px;right:10px;font-size:12px;}\r\n.exit{color:brown;text-decoration: none;font-size:12px;}\r\n.admin{font-size:12px;margin-left: 10px;color:grey;}\r\n.list{width:100%;height:auto;position:relative;}\r\n.list li{margin:0 10px;list-style-type: none;width:100%;height:60px;font-size: 16px;line-height:80px;color:grey;border-bottom:1px solid black;}\r\n.list span{position: absolute;right:10px;color:grey;}\r\n</style>\r\n"]}]}